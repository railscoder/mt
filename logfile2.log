# Logfile created on 2017-08-16 12:57:16 +0300 by logger.rb/47272
2017-08-16T09:57:20.142Z 21873 TID-bua2w INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-16T09:57:20.484Z 21873 TID-bua2w INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-16T09:57:20.484Z 21873 TID-bua2w INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-16T09:57:20.484Z 21873 TID-bua2w INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-16T10:07:46.862Z 21873 TID-vo7mg YandexSearchJob JID-ab827bbc49a3fcad01f5300e INFO: start
2017-08-16T10:10:43.564Z 21873 TID-vo7mg YandexSearchJob JID-ab827bbc49a3fcad01f5300e INFO: done: 176.702 sec
2017-08-16T10:10:53.622Z 21873 TID-sv9uc ScanGisWorker JID-785ed63de55c80967978beca INFO: start
2017-08-16T11:15:16.196Z 21873 TID-sv9uc ScanGisWorker JID-785ed63de55c80967978beca INFO: fail: 3862.574 sec
2017-08-16T11:15:16.197Z 21873 TID-sv9uc WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["кухни на заказ",1,"izplitki"],"retry":true,"queue":"default","jid":"785ed63de55c80967978beca","created_at":1502878156.0928402,"enqueued_at":1502878156.0947392,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1502882116.1949222,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"кухни на заказ\",1,\"izplitki\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"785ed63de55c80967978beca\",\"created_at\":1502878156.0928402,\"enqueued_at\":1502878156.0947392}"}
2017-08-16T11:15:16.197Z 21873 TID-sv9uc WARN: OpenURI::HTTPError: 410 Gone
2017-08-16T11:15:16.197Z 21873 TID-sv9uc WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-16T11:16:08.334Z 21873 TID-vo6sg ScanGisWorker JID-785ed63de55c80967978beca INFO: start
2017-08-16T11:20:39.339Z 21873 TID-bua2w INFO: Shutting down
2017-08-16T11:20:39.340Z 21873 TID-bua2w INFO: Terminating quiet workers
2017-08-16T11:20:39.340Z 21873 TID-svn3k INFO: Scheduler exiting...
2017-08-16T11:20:39.840Z 21873 TID-bua2w INFO: Pausing to allow workers to finish...
2017-08-16T11:20:46.861Z 21873 TID-bua2w WARN: Terminating 1 busy worker threads
2017-08-16T11:20:46.863Z 21873 TID-bua2w WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"кухни на заказ\",1,\"izplitki\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"785ed63de55c80967978beca\",\"created_at\":1502878156.0928402,\"enqueued_at\":1502882168.3320022,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1502882116.1949222,\"retry_count\":0}">]
2017-08-16T11:20:46.865Z 21873 TID-bua2w INFO: Pushed 1 jobs back to Redis
2017-08-16T11:20:46.867Z 21873 TID-vo6sg ScanGisWorker JID-785ed63de55c80967978beca INFO: fail: 278.532 sec
2017-08-16T11:20:46.867Z 21873 TID-bua2w INFO: Bye!
2017-08-16T11:29:38.468Z 22626 TID-48710 INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-16T11:29:39.132Z 22626 TID-48710 INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-16T11:29:39.132Z 22626 TID-48710 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-16T11:29:39.132Z 22626 TID-48710 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-16T11:29:39.237Z 22626 TID-l4eco YandexSearchJob JID-67881d6abdc30cdd2ea87b6e INFO: start
2017-08-16T11:32:35.738Z 22626 TID-l4eco YandexSearchJob JID-67881d6abdc30cdd2ea87b6e INFO: done: 176.501 sec
2017-08-16T11:43:24.419Z 22626 TID-mdspc ScanSitesWorker JID-79ecd4c6aed5cc080cb5f440 INFO: start
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
2017-08-16T11:51:42.094Z 22626 TID-mdspc ScanSitesWorker JID-79ecd4c6aed5cc080cb5f440 INFO: done: 497.675 sec
2017-08-16T12:06:55.377Z 22626 TID-mcbkk ScanSitesWorker JID-a9c7a83a9e132cfe648ff2f8 INFO: start
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD1 0x82 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD1 0x82 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB2 0xD0
2017-08-16T12:52:52.723Z 22626 TID-mcbkk ScanSitesWorker JID-a9c7a83a9e132cfe648ff2f8 INFO: done: 2757.346 sec
2017-08-16T13:30:36.033Z 22626 TID-l4fp0 ScanGisWorker JID-e43522ed7813294e13237c3b INFO: start
2017-08-16T13:53:53.804Z 22626 TID-l4fp0 ScanGisWorker JID-e43522ed7813294e13237c3b INFO: fail: 1397.772 sec
2017-08-16T13:53:53.806Z 22626 TID-l4fp0 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["сексшопы",1,"sanya cherepanov"],"retry":true,"queue":"default","jid":"e43522ed7813294e13237c3b","created_at":1502890225.9446418,"enqueued_at":1502890225.9466558,"error_message":"500 Internal Server Error","error_class":"OpenURI::HTTPError","failed_at":1502891633.8022702,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"сексшопы\",1,\"sanya cherepanov\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"e43522ed7813294e13237c3b\",\"created_at\":1502890225.9446418,\"enqueued_at\":1502890225.9466558}"}
2017-08-16T13:53:53.806Z 22626 TID-l4fp0 WARN: OpenURI::HTTPError: 500 Internal Server Error
2017-08-16T13:53:53.806Z 22626 TID-l4fp0 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-16T13:54:16.358Z 22626 TID-l4e3s ScanGisWorker JID-e43522ed7813294e13237c3b INFO: start
2017-08-16T13:56:39.828Z 22626 TID-l4e3s ScanGisWorker JID-e43522ed7813294e13237c3b INFO: fail: 143.47 sec
2017-08-16T13:56:39.829Z 22626 TID-l4e3s WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["сексшопы",1,"sanya cherepanov"],"retry":true,"queue":"default","jid":"e43522ed7813294e13237c3b","created_at":1502890225.9446418,"enqueued_at":1502891656.3574092,"error_message":"500 Internal Server Error","error_class":"OpenURI::HTTPError","failed_at":1502891633.8022702,"retry_count":1,"retried_at":1502891799.8271897},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"сексшопы\",1,\"sanya cherepanov\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"e43522ed7813294e13237c3b\",\"created_at\":1502890225.9446418,\"enqueued_at\":1502891656.3574092,\"error_message\":\"500 Internal Server Error\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1502891633.8022702,\"retry_count\":0}"}
2017-08-16T13:56:39.829Z 22626 TID-l4e3s WARN: OpenURI::HTTPError: 500 Internal Server Error
2017-08-16T13:56:39.829Z 22626 TID-l4e3s WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-16T13:57:43.629Z 22626 TID-l4ew4 ScanGisWorker JID-e43522ed7813294e13237c3b INFO: start
2017-08-16T14:13:45.800Z 22626 TID-48710 INFO: Shutting down
2017-08-16T14:13:45.810Z 22626 TID-48710 INFO: Terminating quiet workers
2017-08-16T14:13:45.811Z 22626 TID-l4tl0 INFO: Scheduler exiting...
2017-08-16T14:13:46.311Z 22626 TID-48710 INFO: Pausing to allow workers to finish...
2017-08-16T14:13:53.316Z 22626 TID-48710 WARN: Terminating 1 busy worker threads
2017-08-16T14:13:53.318Z 22626 TID-48710 WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"сексшопы\",1,\"sanya cherepanov\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"e43522ed7813294e13237c3b\",\"created_at\":1502890225.9446418,\"enqueued_at\":1502891863.6266522,\"error_message\":\"500 Internal Server Error\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1502891633.8022702,\"retry_count\":1,\"retried_at\":1502891799.8271897}">]
2017-08-16T14:13:53.323Z 22626 TID-48710 INFO: Pushed 1 jobs back to Redis
2017-08-16T14:13:53.333Z 22626 TID-48710 INFO: Bye!
2017-08-16T14:15:55.633Z 24271 TID-7c7tk INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-16T14:15:56.258Z 24271 TID-7c7tk INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-16T14:15:56.258Z 24271 TID-7c7tk INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-16T14:15:56.258Z 24271 TID-7c7tk INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-16T14:16:31.687Z 24271 TID-obor4 ScanGisWorker JID-cc76bdbbe1413efcbe8556cc INFO: start
2017-08-16T14:51:56.460Z 24271 TID-obor4 ScanGisWorker JID-cc76bdbbe1413efcbe8556cc INFO: done: 2124.772 sec
2017-08-16T15:18:25.626Z 24271 TID-obor4 ScanGisWorker JID-8d523f7372a84ca8ac5dee17 INFO: start
2017-08-16T15:53:40.001Z 24271 TID-obor4 ScanGisWorker JID-8d523f7372a84ca8ac5dee17 INFO: done: 2114.375 sec
2017-08-17T10:32:04.168Z 24271 TID-obmus DeliveryMailWorker JID-e653ffcada4967776f70ab15 INFO: start
2017-08-17T15:52:28.286Z 24271 TID-ob9q0 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: start
2017-08-17T18:38:47.477Z 24271 TID-ob9q0 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: fail: 9979.18 sec
2017-08-17T18:38:47.499Z 24271 TID-ob9q0 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительные магазины",1,"me"],"retry":true,"queue":"default","jid":"adce5906f2397281e6b74549","created_at":1502985148.2711263,"enqueued_at":1502985148.272837,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1502995127.4000807,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительные магазины\",1,\"me\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"adce5906f2397281e6b74549\",\"created_at\":1502985148.2711263,\"enqueued_at\":1502985148.272837}"}
2017-08-17T18:38:47.499Z 24271 TID-ob9q0 WARN: OpenURI::HTTPError: 410 Gone
2017-08-17T18:38:47.499Z 24271 TID-ob9q0 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-17T18:39:33.085Z 24271 TID-obor4 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: start
2017-08-17T21:08:58.569Z 24271 TID-obor4 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: fail: 8965.484 sec
2017-08-17T21:08:58.584Z 24271 TID-obor4 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительные магазины",1,"me"],"retry":true,"queue":"default","jid":"adce5906f2397281e6b74549","created_at":1502985148.2711263,"enqueued_at":1502995173.081866,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1502995127.4000807,"retry_count":1,"retried_at":1503004138.5679255},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительные магазины\",1,\"me\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"adce5906f2397281e6b74549\",\"created_at\":1502985148.2711263,\"enqueued_at\":1502995173.081866,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1502995127.4000807,\"retry_count\":0}"}
2017-08-17T21:08:58.584Z 24271 TID-obor4 WARN: OpenURI::HTTPError: 410 Gone
2017-08-17T21:08:58.584Z 24271 TID-obor4 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-17T21:09:51.357Z 24271 TID-qcyp8 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: start
2017-08-18T00:04:13.357Z 24271 TID-qcyp8 ScanGisWorker JID-adce5906f2397281e6b74549 INFO: done: 10461.999 sec
2017-08-18T16:46:50.511Z 24271 TID-obmus DeliveryMailWorker JID-e653ffcada4967776f70ab15 INFO: done: 108886.343 sec
2017-08-18T16:46:51.592Z 24271 TID-qd0kg ScanSitesWorker JID-f80edc5f0879c54c8f53daa5 INFO: start
2017-08-18T16:46:51.741Z 24271 TID-qczuw ScanSitesWorker JID-35ab6654b69b237610c661ac INFO: start
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
I/O error : encoder error
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
I/O error : encoder error
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
2017-08-21T09:58:54.558Z 14138 TID-a0sd4 INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-21T09:58:54.869Z 14138 TID-a0sd4 INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-21T09:58:54.869Z 14138 TID-a0sd4 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-21T09:58:54.869Z 14138 TID-a0sd4 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-21T09:58:54.994Z 14138 TID-r1xxg ScanSitesWorker JID-a3381698828c56e8c1a1ba31 INFO: start
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xB7 0xD0
I/O error : encoder error
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA0 0xC2
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : output conversion failed due to conv error, bytes 0xC4 0xD0 0xB5 0xD0
I/O error : encoder error
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x9D 0xD0
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBD 0xD1
2017-08-21T12:06:53.869Z 14138 TID-r1xxg ScanSitesWorker JID-a3381698828c56e8c1a1ba31 INFO: done: 7678.875 sec
2017-08-21T12:30:10.994Z 14138 TID-r2bbo DeliveryMailWorker JID-90785eed7ccdd5bd2b4cd652 INFO: start
2017-08-23T09:14:08.447Z 14138 TID-a0sd4 INFO: Shutting down
2017-08-23T09:14:08.469Z 14138 TID-a0sd4 INFO: Terminating quiet workers
2017-08-23T09:14:08.469Z 14138 TID-r2cyk INFO: Scheduler exiting...
2017-08-23T09:14:08.970Z 14138 TID-a0sd4 INFO: Pausing to allow workers to finish...
2017-08-23T09:14:15.974Z 14138 TID-a0sd4 WARN: Terminating 3 busy worker threads
2017-08-23T09:14:15.977Z 14138 TID-a0sd4 WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"f95756a433a772d2e2c6b44f\",\"created_at\":1503479623.0427191,\"enqueued_at\":1503479623.044085}">, #<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"DeliveryMailWorker\",\"args\":[5],\"retry\":true,\"queue\":\"default\",\"jid\":\"90785eed7ccdd5bd2b4cd652\",\"created_at\":1503318610.9753246,\"enqueued_at\":1503318610.9767294}">, #<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"b919ea18688b630122709309\",\"created_at\":1503479451.27909,\"enqueued_at\":1503479451.2809813}">]
2017-08-23T09:14:15.979Z 14138 TID-a0sd4 INFO: Pushed 3 jobs back to Redis
2017-08-23T09:14:15.981Z 14138 TID-r2bbo DeliveryMailWorker JID-90785eed7ccdd5bd2b4cd652 INFO: fail: 161044.986 sec
2017-08-23T09:14:15.983Z 14138 TID-a0sd4 INFO: Bye!
2017-08-23T09:14:39.005Z 25404 TID-3z8ng INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-23T09:14:39.283Z 25404 TID-3z8ng INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-23T09:14:39.284Z 25404 TID-3z8ng INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-23T09:14:39.284Z 25404 TID-3z8ng INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-23T09:14:44.236Z 25404 TID-nxqbc ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:35:25.606Z 25404 TID-nxqbc ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1241.37 sec
2017-08-23T09:35:25.607Z 25404 TID-nxqbc WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503479684.223621,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503479684.223621}"}
2017-08-23T09:35:25.607Z 25404 TID-nxqbc WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:35:25.607Z 25404 TID-nxqbc WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:35:59.206Z 25404 TID-ngyuw ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:36:00.364Z 25404 TID-ngyuw ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1.158 sec
2017-08-23T09:36:00.365Z 25404 TID-ngyuw WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503480959.2043715,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":1,"retried_at":1503480960.3637168},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503480959.2043715,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":0}"}
2017-08-23T09:36:00.365Z 25404 TID-ngyuw WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:36:00.366Z 25404 TID-ngyuw WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:36:39.636Z 25404 TID-ngy1g ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:36:40.541Z 25404 TID-ngy1g ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 0.905 sec
2017-08-23T09:36:40.542Z 25404 TID-ngy1g WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503480999.6347535,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":2,"retried_at":1503481000.5408866},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503480999.6347535,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":1,\"retried_at\":1503480960.3637168}"}
2017-08-23T09:36:40.542Z 25404 TID-ngy1g WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:36:40.542Z 25404 TID-ngy1g WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:38:04.615Z 25404 TID-ngy8o ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:38:05.567Z 25404 TID-ngy8o ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 0.952 sec
2017-08-23T09:38:05.568Z 25404 TID-ngy8o WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503481084.612299,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":3,"retried_at":1503481085.5664518},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503481084.612299,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":2,\"retried_at\":1503481000.5408866}"}
2017-08-23T09:38:05.568Z 25404 TID-ngy8o WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:38:05.569Z 25404 TID-ngy8o WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:40:33.986Z 25404 TID-nh05k ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:40:35.235Z 25404 TID-nh05k ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1.249 sec
2017-08-23T09:40:35.235Z 25404 TID-nh05k WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503481233.9841897,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":4,"retried_at":1503481235.233786},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503481233.9841897,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":3,\"retried_at\":1503481085.5664518}"}
2017-08-23T09:40:35.235Z 25404 TID-nh05k WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:40:35.235Z 25404 TID-nh05k WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:46:42.839Z 25404 TID-nxqt4 ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:46:43.849Z 25404 TID-nxqt4 ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1.01 sec
2017-08-23T09:46:43.850Z 25404 TID-nxqt4 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503481602.8384223,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":5,"retried_at":1503481603.848078},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503481602.8384223,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":4,\"retried_at\":1503481235.233786}"}
2017-08-23T09:46:43.850Z 25404 TID-nxqt4 WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:46:43.851Z 25404 TID-nxqt4 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T09:58:48.355Z 25404 TID-mzg6g ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T09:58:49.590Z 25404 TID-mzg6g ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1.234 sec
2017-08-23T09:58:49.590Z 25404 TID-mzg6g WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503482328.3539822,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":6,"retried_at":1503482329.5889912},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503482328.3539822,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":5,\"retried_at\":1503481603.848078}"}
2017-08-23T09:58:49.590Z 25404 TID-mzg6g WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T09:58:49.591Z 25404 TID-mzg6g WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T10:23:20.150Z 25404 TID-ngzlk ScanGisWorker JID-af38e1b975742478802afcff INFO: start
2017-08-23T10:23:22.093Z 25404 TID-ngzlk ScanGisWorker JID-af38e1b975742478802afcff INFO: fail: 1.943 sec
2017-08-23T10:23:22.093Z 25404 TID-ngzlk WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor"],"retry":true,"queue":"default","jid":"af38e1b975742478802afcff","created_at":1503479684.221987,"enqueued_at":1503483800.1468043,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503480925.605472,"retry_count":7,"retried_at":1503483802.0920086},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"af38e1b975742478802afcff\",\"created_at\":1503479684.221987,\"enqueued_at\":1503483800.1468043,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503480925.605472,\"retry_count\":6,\"retried_at\":1503482329.5889912}"}
2017-08-23T10:23:22.093Z 25404 TID-ngzlk WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T10:23:22.093Z 25404 TID-ngzlk WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T11:21:42.138Z 25404 TID-kyxdk ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: start
2017-08-23T11:38:33.139Z 25404 TID-kyxdk ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: fail: 1011.0 sec
2017-08-23T11:38:33.140Z 25404 TID-kyxdk WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor",80],"retry":true,"queue":"default","jid":"04f0fbebf068c2bb20a6518b","created_at":1503487302.1202166,"enqueued_at":1503487302.1224768,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503488313.1378863,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\",80],\"retry\":true,\"queue\":\"default\",\"jid\":\"04f0fbebf068c2bb20a6518b\",\"created_at\":1503487302.1202166,\"enqueued_at\":1503487302.1224768}"}
2017-08-23T11:38:33.140Z 25404 TID-kyxdk WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T11:38:33.140Z 25404 TID-kyxdk WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T11:39:25.103Z 25404 TID-ngzs8 ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: start
2017-08-23T11:54:44.552Z 25404 TID-ngzs8 ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: fail: 919.449 sec
2017-08-23T11:54:44.553Z 25404 TID-ngzs8 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor",80],"retry":true,"queue":"default","jid":"04f0fbebf068c2bb20a6518b","created_at":1503487302.1202166,"enqueued_at":1503488365.1003556,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503488313.1378863,"retry_count":1,"retried_at":1503489284.5512683},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\",80],\"retry\":true,\"queue\":\"default\",\"jid\":\"04f0fbebf068c2bb20a6518b\",\"created_at\":1503487302.1202166,\"enqueued_at\":1503488365.1003556,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503488313.1378863,\"retry_count\":0}"}
2017-08-23T11:54:44.553Z 25404 TID-ngzs8 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T11:54:44.553Z 25404 TID-ngzs8 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T11:55:18.977Z 25404 TID-n6wek ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: start
2017-08-23T12:11:22.340Z 25404 TID-n6wek ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: fail: 963.363 sec
2017-08-23T12:11:22.341Z 25404 TID-n6wek WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor",80],"retry":true,"queue":"default","jid":"04f0fbebf068c2bb20a6518b","created_at":1503487302.1202166,"enqueued_at":1503489318.9750803,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503488313.1378863,"retry_count":2,"retried_at":1503490282.3389308},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\",80],\"retry\":true,\"queue\":\"default\",\"jid\":\"04f0fbebf068c2bb20a6518b\",\"created_at\":1503487302.1202166,\"enqueued_at\":1503489318.9750803,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503488313.1378863,\"retry_count\":1,\"retried_at\":1503489284.5512683}"}
2017-08-23T12:11:22.341Z 25404 TID-n6wek WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T12:11:22.341Z 25404 TID-n6wek WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T12:12:10.524Z 25404 TID-ngzyw ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: start
2017-08-23T12:27:55.432Z 25404 TID-ngzyw ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: fail: 944.908 sec
2017-08-23T12:27:55.433Z 25404 TID-ngzyw WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["ремонтно-отделочная компания",1,"grandecor",80],"retry":true,"queue":"default","jid":"04f0fbebf068c2bb20a6518b","created_at":1503487302.1202166,"enqueued_at":1503490330.5223653,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503488313.1378863,"retry_count":3,"retried_at":1503491275.4302397},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\",80],\"retry\":true,\"queue\":\"default\",\"jid\":\"04f0fbebf068c2bb20a6518b\",\"created_at\":1503487302.1202166,\"enqueued_at\":1503490330.5223653,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503488313.1378863,\"retry_count\":2,\"retried_at\":1503490282.3389308}"}
2017-08-23T12:27:55.433Z 25404 TID-ngzyw WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T12:27:55.434Z 25404 TID-ngzyw WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T12:30:27.506Z 25404 TID-dcz8w ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: start
2017-08-23T12:38:48.543Z 25404 TID-3z8ng INFO: Shutting down
2017-08-23T12:38:48.543Z 25404 TID-3z8ng INFO: Terminating quiet workers
2017-08-23T12:38:48.544Z 25404 TID-nh0dw INFO: Scheduler exiting...
2017-08-23T12:38:49.045Z 25404 TID-3z8ng INFO: Pausing to allow workers to finish...
2017-08-23T12:38:56.068Z 25404 TID-3z8ng WARN: Terminating 1 busy worker threads
2017-08-23T12:38:56.070Z 25404 TID-3z8ng WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"ремонтно-отделочная компания\",1,\"grandecor\",80],\"retry\":true,\"queue\":\"default\",\"jid\":\"04f0fbebf068c2bb20a6518b\",\"created_at\":1503487302.1202166,\"enqueued_at\":1503491427.5046506,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503488313.1378863,\"retry_count\":3,\"retried_at\":1503491275.4302397}">]
2017-08-23T12:38:56.071Z 25404 TID-3z8ng INFO: Pushed 1 jobs back to Redis
2017-08-23T12:38:56.072Z 25404 TID-dcz8w ScanGisWorker JID-04f0fbebf068c2bb20a6518b INFO: fail: 508.566 sec
2017-08-23T12:38:56.073Z 25404 TID-3z8ng INFO: Bye!
2017-08-23T12:39:23.430Z 26377 TID-9yoi0 INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-23T12:39:23.725Z 26377 TID-9yoi0 INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-23T12:39:23.726Z 26377 TID-9yoi0 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-23T12:39:23.726Z 26377 TID-9yoi0 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-23T12:39:36.687Z 26377 TID-ewn9c ScanGisWorker JID-e9434418f6070cc1ebd0774e INFO: start
2017-08-23T12:39:39.584Z 26377 TID-ewn9c ScanGisWorker JID-e9434418f6070cc1ebd0774e INFO: done: 2.897 sec
2017-08-23T12:44:03.166Z 26377 TID-qz1ik ScanSitesWorker JID-5213b199fbad75d423899865 INFO: start
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
2017-08-23T13:12:16.402Z 26377 TID-qz1ik ScanSitesWorker JID-5213b199fbad75d423899865 INFO: done: 1693.235 sec
2017-08-23T14:59:47.204Z 26377 TID-ewmh0 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T15:33:54.215Z 26377 TID-ewmh0 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 2047.011 sec
2017-08-23T15:33:54.216Z 26377 TID-ewmh0 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503500377.143687,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503500377.143687}"}
2017-08-23T15:33:54.216Z 26377 TID-ewmh0 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T15:33:54.216Z 26377 TID-ewmh0 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T15:34:38.696Z 26377 TID-qz2c0 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T15:47:56.926Z 26377 TID-qz2c0 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 798.231 sec
2017-08-23T15:47:56.927Z 26377 TID-qz2c0 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503502478.6933844,"error_message":"500 Internal Server Error","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":1,"retried_at":1503503276.9257348},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503502478.6933844,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":0}"}
2017-08-23T15:47:56.928Z 26377 TID-qz2c0 WARN: OpenURI::HTTPError: 500 Internal Server Error
2017-08-23T15:47:56.928Z 26377 TID-qz2c0 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T15:48:41.722Z 26377 TID-tserw ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T15:48:56.540Z 26377 TID-tserw ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 14.818 sec
2017-08-23T15:48:56.541Z 26377 TID-tserw WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503503321.7194252,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":2,"retried_at":1503503336.5393496},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503503321.7194252,\"error_message\":\"500 Internal Server Error\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":1,\"retried_at\":1503503276.9257348}"}
2017-08-23T15:48:56.545Z 26377 TID-tserw WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T15:48:56.545Z 26377 TID-tserw WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:20:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T15:50:23.953Z 26377 TID-qz3yw ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T16:25:46.242Z 26377 TID-qz3yw ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 2122.289 sec
2017-08-23T16:25:46.243Z 26377 TID-qz3yw WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503503423.9521222,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":3,"retried_at":1503505546.2414544},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503503423.9521222,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":2,\"retried_at\":1503503336.5393496}"}
2017-08-23T16:25:46.243Z 26377 TID-qz3yw WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T16:25:46.243Z 26377 TID-qz3yw WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T16:28:35.272Z 26377 TID-qz20w ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T16:43:53.260Z 26377 TID-qz20w ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 917.923 sec
2017-08-23T16:43:53.285Z 26377 TID-qz20w WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503505715.2713354,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":4,"retried_at":1503506633.194898},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503505715.2713354,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":3,\"retried_at\":1503505546.2414544}"}
2017-08-23T16:43:53.285Z 26377 TID-qz20w WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T16:43:53.286Z 26377 TID-qz20w WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:20:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T16:48:59.822Z 26377 TID-qz1ik ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T16:49:10.357Z 26377 TID-qz1ik ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 10.535 sec
2017-08-23T16:49:10.358Z 26377 TID-qz1ik WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton"],"retry":true,"queue":"default","jid":"1d3f9c7c65de7edb6ac5733e","created_at":1503500377.1412382,"enqueued_at":1503506939.820165,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503502434.2143035,"retry_count":5,"retried_at":1503506950.3563235},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503506939.820165,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":4,\"retried_at\":1503506633.194898}"}
2017-08-23T16:49:10.358Z 26377 TID-qz1ik WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T16:49:10.358Z 26377 TID-qz1ik WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:16:in `get_count_pages'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:7:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T17:02:43.635Z 26377 TID-tse54 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: start
2017-08-23T17:06:03.095Z 26377 TID-9yoi0 INFO: Shutting down
2017-08-23T17:06:03.113Z 26377 TID-9yoi0 INFO: Terminating quiet workers
2017-08-23T17:06:03.113Z 26377 TID-qz4lo INFO: Scheduler exiting...
2017-08-23T17:06:03.613Z 26377 TID-9yoi0 INFO: Pausing to allow workers to finish...
2017-08-23T17:06:10.721Z 26377 TID-9yoi0 WARN: Terminating 1 busy worker threads
2017-08-23T17:06:11.591Z 26377 TID-9yoi0 WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\"],\"retry\":true,\"queue\":\"default\",\"jid\":\"1d3f9c7c65de7edb6ac5733e\",\"created_at\":1503500377.1412382,\"enqueued_at\":1503507763.6164732,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503502434.2143035,\"retry_count\":5,\"retried_at\":1503506950.3563235}">]
2017-08-23T17:06:11.593Z 26377 TID-9yoi0 INFO: Pushed 1 jobs back to Redis
2017-08-23T17:06:11.614Z 26377 TID-tse54 ScanGisWorker JID-1d3f9c7c65de7edb6ac5733e INFO: fail: 207.961 sec
2017-08-23T17:06:11.642Z 26377 TID-9yoi0 INFO: Bye!
2017-08-23T17:07:56.379Z 27779 TID-6euu0 INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-23T17:07:56.923Z 27779 TID-6euu0 INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-23T17:07:56.924Z 27779 TID-6euu0 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-23T17:07:56.924Z 27779 TID-6euu0 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-23T17:07:57.121Z 27779 TID-ng8hg ScanGisWorker JID-bc7082a9b9a6c1f294681872 INFO: start
2017-08-23T17:36:06.530Z 27779 TID-ng8hg ScanGisWorker JID-bc7082a9b9a6c1f294681872 INFO: fail: 1689.408 sec
2017-08-23T17:36:06.531Z 27779 TID-ng8hg WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",170],"retry":true,"queue":"default","jid":"bc7082a9b9a6c1f294681872","created_at":1503508030.9015605,"enqueued_at":1503508030.9343164,"error_message":"404 Not Found","error_class":"OpenURI::HTTPError","failed_at":1503509766.5287583,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",170],\"retry\":true,\"queue\":\"default\",\"jid\":\"bc7082a9b9a6c1f294681872\",\"created_at\":1503508030.9015605,\"enqueued_at\":1503508030.9343164}"}
2017-08-23T17:36:06.531Z 27779 TID-ng8hg WARN: OpenURI::HTTPError: 404 Not Found
2017-08-23T17:36:06.531Z 27779 TID-ng8hg WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:20:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T17:36:47.236Z 27779 TID-pff50 ScanGisWorker JID-bc7082a9b9a6c1f294681872 INFO: start
2017-08-23T17:49:28.976Z 27779 TID-pff50 ScanGisWorker JID-bc7082a9b9a6c1f294681872 INFO: fail: 761.74 sec
2017-08-23T17:49:28.977Z 27779 TID-pff50 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",170],"retry":true,"queue":"default","jid":"bc7082a9b9a6c1f294681872","created_at":1503508030.9015605,"enqueued_at":1503509807.2346632,"error_message":"500 Internal Server Error","error_class":"OpenURI::HTTPError","failed_at":1503509766.5287583,"retry_count":1,"retried_at":1503510568.97546},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",170],\"retry\":true,\"queue\":\"default\",\"jid\":\"bc7082a9b9a6c1f294681872\",\"created_at\":1503508030.9015605,\"enqueued_at\":1503509807.2346632,\"error_message\":\"404 Not Found\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503509766.5287583,\"retry_count\":0}"}
2017-08-23T17:49:28.977Z 27779 TID-pff50 WARN: OpenURI::HTTPError: 500 Internal Server Error
2017-08-23T17:49:28.977Z 27779 TID-pff50 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T17:50:11.514Z 27779 TID-pefl0 ScanGisWorker JID-bc7082a9b9a6c1f294681872 INFO: start
2017-08-23T17:57:15.957Z 27779 TID-6euu0 INFO: Shutting down
2017-08-23T17:57:15.957Z 27779 TID-6euu0 INFO: Terminating quiet workers
2017-08-23T17:57:15.957Z 27779 TID-ngbdw INFO: Scheduler exiting...
2017-08-23T17:57:16.458Z 27779 TID-6euu0 INFO: Pausing to allow workers to finish...
2017-08-23T17:57:23.484Z 27779 TID-6euu0 WARN: Terminating 1 busy worker threads
2017-08-23T17:57:23.485Z 27779 TID-6euu0 WARN: Work still in progress [#<struct Sidekiq::BasicFetch::UnitOfWork queue="queue:default", job="{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",170],\"retry\":true,\"queue\":\"default\",\"jid\":\"bc7082a9b9a6c1f294681872\",\"created_at\":1503508030.9015605,\"enqueued_at\":1503510611.5114245,\"error_message\":\"500 Internal Server Error\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503509766.5287583,\"retry_count\":1,\"retried_at\":1503510568.97546}">]
2017-08-23T17:57:23.487Z 27779 TID-6euu0 INFO: Pushed 1 jobs back to Redis
2017-08-23T17:57:23.487Z 27779 TID-6euu0 INFO: Bye!
2017-08-23T17:57:59.217Z 28039 TID-6cqyw INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-23T17:57:59.484Z 28039 TID-6cqyw INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-23T17:57:59.485Z 28039 TID-6cqyw INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-23T17:57:59.485Z 28039 TID-6cqyw INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-23T18:03:17.259Z 28039 TID-nedb4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T18:13:16.058Z 28039 TID-nedb4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 598.799 sec
2017-08-23T18:13:16.059Z 28039 TID-nedb4 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503511397.2485518,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503511397.2485518}"}
2017-08-23T18:13:16.059Z 28039 TID-nedb4 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T18:13:16.059Z 28039 TID-nedb4 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T18:13:52.954Z 28039 TID-necr4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T18:23:57.462Z 28039 TID-necr4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 604.508 sec
2017-08-23T18:23:57.463Z 28039 TID-necr4 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503512032.9529493,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":1,"retried_at":1503512637.4616504},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503512032.9529493,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503511996.0568786,\"retry_count\":0}"}
2017-08-23T18:23:57.463Z 28039 TID-necr4 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T18:23:57.463Z 28039 TID-necr4 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T18:24:35.009Z 28039 TID-mlajs ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T18:34:49.689Z 28039 TID-mlajs ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 614.68 sec
2017-08-23T18:34:49.690Z 28039 TID-mlajs WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503512675.0075586,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":2,"retried_at":1503513289.6889591},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503512675.0075586,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503511996.0568786,\"retry_count\":1,\"retried_at\":1503512637.4616504}"}
2017-08-23T18:34:49.690Z 28039 TID-mlajs WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T18:34:49.691Z 28039 TID-mlajs WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T18:36:39.727Z 28039 TID-bhot4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T18:46:31.735Z 28039 TID-bhot4 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 592.008 sec
2017-08-23T18:46:31.736Z 28039 TID-bhot4 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503513399.725015,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":3,"retried_at":1503513991.73388},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503513399.725015,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503511996.0568786,\"retry_count\":2,\"retried_at\":1503513289.6889591}"}
2017-08-23T18:46:31.736Z 28039 TID-bhot4 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T18:46:31.736Z 28039 TID-bhot4 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T18:50:05.161Z 28039 TID-nebr0 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T19:00:07.578Z 28039 TID-nebr0 ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 602.417 sec
2017-08-23T19:00:07.579Z 28039 TID-nebr0 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503514205.1597614,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":4,"retried_at":1503514807.576105},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503514205.1597614,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503511996.0568786,\"retry_count\":3,\"retried_at\":1503513991.73388}"}
2017-08-23T19:00:07.579Z 28039 TID-nebr0 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T19:00:07.579Z 28039 TID-nebr0 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T19:06:46.890Z 28039 TID-gzgxk ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: start
2017-08-23T19:16:31.016Z 28039 TID-gzgxk ScanGisWorker JID-bf7d8c7de6ff43e0bb699589 INFO: fail: 584.126 sec
2017-08-23T19:16:31.017Z 28039 TID-gzgxk WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",300],"retry":true,"queue":"default","jid":"bf7d8c7de6ff43e0bb699589","created_at":1503511397.2473557,"enqueued_at":1503515206.8884172,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503511996.0568786,"retry_count":5,"retried_at":1503515791.0152788},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",300],\"retry\":true,\"queue\":\"default\",\"jid\":\"bf7d8c7de6ff43e0bb699589\",\"created_at\":1503511397.2473557,\"enqueued_at\":1503515206.8884172,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503511996.0568786,\"retry_count\":4,\"retried_at\":1503514807.576105}"}
2017-08-23T19:16:31.017Z 28039 TID-gzgxk WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T19:16:31.017Z 28039 TID-gzgxk WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T19:18:50.091Z 28039 TID-fkusw ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T19:29:04.193Z 28039 TID-fkusw ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 614.103 sec
2017-08-23T19:29:04.194Z 28039 TID-fkusw WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503515930.0844252,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":0},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503515930.0844252}"}
2017-08-23T19:29:04.194Z 28039 TID-fkusw WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T19:29:04.194Z 28039 TID-fkusw WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T19:29:37.209Z 28039 TID-hjoak ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T19:40:12.846Z 28039 TID-hjoak ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 635.636 sec
2017-08-23T19:40:12.847Z 28039 TID-hjoak WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503516577.2084424,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":1,"retried_at":1503517212.843974},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503516577.2084424,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":0}"}
2017-08-23T19:40:12.847Z 28039 TID-hjoak WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T19:40:12.847Z 28039 TID-hjoak WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T19:40:49.188Z 28039 TID-neayo ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T19:51:10.146Z 28039 TID-neayo ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 620.958 sec
2017-08-23T19:51:10.147Z 28039 TID-neayo WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503517249.185434,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":2,"retried_at":1503517870.145366},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503517249.185434,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":1,\"retried_at\":1503517212.843974}"}
2017-08-23T19:51:10.147Z 28039 TID-neayo WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T19:51:10.147Z 28039 TID-neayo WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T19:52:24.564Z 28039 TID-nwffk ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T20:02:41.025Z 28039 TID-nwffk ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 616.461 sec
2017-08-23T20:02:41.026Z 28039 TID-nwffk WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503517944.5616279,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":3,"retried_at":1503518561.0245268},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503517944.5616279,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":2,\"retried_at\":1503517870.145366}"}
2017-08-23T20:02:41.026Z 28039 TID-nwffk WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T20:02:41.026Z 28039 TID-nwffk WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T20:06:22.229Z 28039 TID-mblro ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T20:16:25.578Z 28039 TID-mblro ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 603.349 sec
2017-08-23T20:16:25.579Z 28039 TID-mblro WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503518782.227629,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":4,"retried_at":1503519385.5776036},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503518782.227629,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":3,\"retried_at\":1503518561.0245268}"}
2017-08-23T20:16:25.579Z 28039 TID-mblro WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T20:16:25.579Z 28039 TID-mblro WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T20:23:31.357Z 28039 TID-p6630 ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T20:33:44.649Z 28039 TID-p6630 ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 613.292 sec
2017-08-23T20:33:44.650Z 28039 TID-p6630 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503519811.3552504,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":5,"retried_at":1503520424.648268},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503519811.3552504,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":4,\"retried_at\":1503519385.5776036}"}
2017-08-23T20:33:44.650Z 28039 TID-p6630 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T20:33:44.650Z 28039 TID-p6630 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T20:45:26.687Z 28039 TID-h9muc ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T20:55:26.495Z 28039 TID-h9muc ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 599.808 sec
2017-08-23T20:55:26.496Z 28039 TID-h9muc WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503521126.6857858,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":6,"retried_at":1503521726.4934623},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503521126.6857858,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":5,\"retried_at\":1503520424.648268}"}
2017-08-23T20:55:26.496Z 28039 TID-h9muc WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T20:55:26.496Z 28039 TID-h9muc WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T21:19:00.786Z 28039 TID-q6u94 ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T21:29:13.199Z 28039 TID-q6u94 ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 612.413 sec
2017-08-23T21:29:13.200Z 28039 TID-q6u94 WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503523140.782417,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":7,"retried_at":1503523753.1982749},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503523140.782417,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":6,\"retried_at\":1503521726.4934623}"}
2017-08-23T21:29:13.200Z 28039 TID-q6u94 WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T21:29:13.200Z 28039 TID-q6u94 WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T22:12:23.948Z 28039 TID-ortms ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: start
2017-08-23T22:22:55.842Z 28039 TID-ortms ScanGisWorker JID-7483fccd3a9ed60604ef1229 INFO: fail: 631.895 sec
2017-08-23T22:22:55.843Z 28039 TID-ortms WARN: {"context":"Job raised exception","job":{"class":"ScanGisWorker","args":["строительная компания",1,"nsmbeton",370],"retry":true,"queue":"default","jid":"7483fccd3a9ed60604ef1229","created_at":1503515930.0835826,"enqueued_at":1503526343.9456062,"error_message":"410 Gone","error_class":"OpenURI::HTTPError","failed_at":1503516544.192731,"retry_count":8,"retried_at":1503526975.841497},"jobstr":"{\"class\":\"ScanGisWorker\",\"args\":[\"строительная компания\",1,\"nsmbeton\",370],\"retry\":true,\"queue\":\"default\",\"jid\":\"7483fccd3a9ed60604ef1229\",\"created_at\":1503515930.0835826,\"enqueued_at\":1503526343.9456062,\"error_message\":\"410 Gone\",\"error_class\":\"OpenURI::HTTPError\",\"failed_at\":1503516544.192731,\"retry_count\":7,\"retried_at\":1503523753.1982749}"}
2017-08-23T22:22:55.843Z 28039 TID-ortms WARN: OpenURI::HTTPError: 410 Gone
2017-08-23T22:22:55.843Z 28039 TID-ortms WARN: /usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:358:in `open_http'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:736:in `buffer_open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:211:in `block in open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `catch'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:209:in `open_loop'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:150:in `open_uri'
/usr/local/rvm/gems/ruby-2.2.2/gems/open_uri_redirections-0.2.1/lib/open-uri/redirections_patch.rb:55:in `open_uri'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:716:in `open'
/usr/local/rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/open-uri.rb:34:in `open'
/usr/local/market_tools/mt/lib/modules/scan_gis.rb:5:in `open_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:29:in `scan_item'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:24:in `block in scan_one_page'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:190:in `block in each'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `upto'
/usr/local/rvm/gems/ruby-2.2.2/gems/nokogiri-1.8.0/lib/nokogiri/xml/node_set.rb:189:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:21:in `scan_one_page'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:10:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/core_ext/range/each.rb:5:in `each'
/usr/local/market_tools/mt/app/services/scan_gis_service.rb:9:in `call'
/usr/local/market_tools/mt/app/workers/scan_gis_worker.rb:5:in `perform'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:158:in `execute_job'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:138:in `block (4 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq.rb:36:in `block in <module:Sidekiq>'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:133:in `block (3 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/retry_jobs.rb:74:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:11:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/logging.rb:32:in `with_context'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/server/logging.rb:7:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:132:in `block (2 levels) in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:174:in `stats'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:131:in `block in process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:106:in `block in call'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:68:in `block in wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/activesupport-5.0.4/lib/active_support/reloader.rb:67:in `wrap'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/rails.rb:105:in `call'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:126:in `process'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:82:in `process_one'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/processor.rb:70:in `run'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:17:in `watchdog'
/usr/local/rvm/gems/ruby-2.2.2/gems/sidekiq-4.2.9/lib/sidekiq/util.rb:26:in `block in safe_thread'
2017-08-23T22:48:13.323Z 28039 TID-q6vi4 ScanGisWorker JID-644de3089af339f27c71664e INFO: start
2017-08-23T22:48:17.159Z 28039 TID-q6vi4 ScanGisWorker JID-644de3089af339f27c71664e INFO: done: 3.842 sec
2017-08-24T12:10:57.533Z 28039 TID-hdl9k ScanGisWorker JID-9468cf52746b7b874d478b80 INFO: start
2017-08-24T12:11:10.273Z 28039 TID-hdl9k ScanGisWorker JID-9468cf52746b7b874d478b80 INFO: done: 12.74 sec
2017-08-24T12:12:20.432Z 28039 TID-hdl9k ScanGisWorker JID-9948cdd42e30cf8c037affeb INFO: start
2017-08-24T12:12:24.025Z 28039 TID-hdl9k ScanGisWorker JID-9948cdd42e30cf8c037affeb INFO: done: 3.593 sec
2017-08-24T12:14:19.084Z 513 TID-54brs INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-24T12:14:19.443Z 513 TID-54brs INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-24T12:14:19.443Z 513 TID-54brs INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-24T12:14:19.444Z 513 TID-54brs INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-24T12:14:34.259Z 513 TID-o427s ScanGisWorker JID-5f74654fa950b6673a2bc71c INFO: start
2017-08-24T12:14:38.668Z 513 TID-o427s ScanGisWorker JID-5f74654fa950b6673a2bc71c INFO: done: 4.409 sec
2017-08-24T14:20:52.717Z 2681 TID-6zkp4 INFO: Booting Sidekiq 4.2.9 with redis options {:url=>"redis://localhost:6379/0"}
2017-08-24T14:20:53.029Z 2681 TID-6zkp4 INFO: Running in ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]
2017-08-24T14:20:53.029Z 2681 TID-6zkp4 INFO: See LICENSE and the LGPL-3.0 for licensing details.
2017-08-24T14:20:53.029Z 2681 TID-6zkp4 INFO: Upgrade to Sidekiq Pro for more features and support: http://sidekiq.org
2017-08-24T14:21:04.452Z 2681 TID-o12s0 ScanGisWorker JID-e2ec699deddcfa5870a910d9 INFO: start
2017-08-24T14:21:09.351Z 2681 TID-o12s0 ScanGisWorker JID-e2ec699deddcfa5870a910d9 INFO: done: 4.899 sec
2017-08-24T14:22:06.918Z 2681 TID-o12s0 ScanGisWorker JID-ac95abfbb2b961cdcfe9020e INFO: start
2017-08-24T14:22:09.442Z 2681 TID-o12s0 ScanGisWorker JID-ac95abfbb2b961cdcfe9020e INFO: done: 2.524 sec
2017-08-24T14:40:43.636Z 2681 TID-qtnc0 ScanSitesWorker JID-7b22fe8cca2f011fa8c2b2d9 INFO: start
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xA2 0xD0
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBC 0xD1
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0xBC 0xD1
log writing failed. "\xD0" from ASCII-8BIT to UTF-8
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x98 0x20
encoding error : input conversion failed due to input error, bytes 0x98 0xD0 0x98 0x20
2017-08-24T15:53:04.605Z 2681 TID-qtnc0 ScanSitesWorker JID-7b22fe8cca2f011fa8c2b2d9 INFO: done: 4340.969 sec
2017-08-25T09:26:04.756Z 2681 TID-qtnc0 DeliveryMailWorker JID-ff26a4274911fdb749be3508 INFO: start
2017-08-28T13:45:26.381Z 2681 TID-qtnc0 DeliveryMailWorker JID-ff26a4274911fdb749be3508 INFO: done: 274761.625 sec
2017-08-28T13:45:26.409Z 2681 TID-o126w DeliveryMailWorker JID-9aeb8665429f89bf11057a29 INFO: start
2017-08-29T06:10:49.873Z 2681 TID-o126w DeliveryMailWorker JID-9aeb8665429f89bf11057a29 INFO: done: 59123.464 sec
2017-08-29T12:33:33.789Z 2681 TID-o126w DeliveryMailWorker JID-47bed44ee4731de814e3446b INFO: start
